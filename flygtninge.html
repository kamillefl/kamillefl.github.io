<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <script src="//code.jquery.com/jquery-2.2.0.min.js"></script>

<script>
$(document).ready(function() {
    $("#again").hide();
    $("#svar").hide();
    $("#ui").fadeOut(800, function(){$("#svar").show()});
  start();
});

function echo(txt) {
    $("#output").fadeOut(800, function() {
      $(this).html(txt).fadeIn(800);
    });
}

function spm(txt) {
    $("#ui").promise().done(function(){
        $("#spm").text(txt);
        $("#svar").val("");
        $("#ui").fadeIn(800);
    });
}

function input(fun) {
  $("#svar").one("change", function(){
    $("#ui").fadeOut(800);
    fun($("#svar").val());
  })
}

function goto(fun) {
  fun();
}

function slet_svar() {
  $("#svar").val("");
}

function slut() {
  $("#ui").promise().done(function(){
      $("#svar").val("").hide();
      $("#spm").text("").hide();
      $("#again").show();
      $("#ui").fadeIn();
  });
}


// Koden for spillet starter her

function start() {
    echo("Spillet starter her"+
         "<p>(Prøv at svare Ken eller Kamille)");
    spm("Hvad er dit navn? ")

    input(function( name ){
    
        if (name == "Ken") {
            echo("Du er sej "+name);
            goto(spm2)
        } else if (name === "Kamille") {
            goto(kamilles_spm);
        } else {
            echo("Du er ikke sej "+ name);
            slut();
        }
    });
}

function spm2() {
    
    slut();
}

function kamilles_spm() {
    echo("Du bliver sej, engang");
    
    spm("Kan du lide at bo i danmark?");
    
    input(function( dk_ok ){
    
        if (dk_ok === "Ja" || dk_ok==="ja") {
            echo("det var Godt");
            goto(slik_spm);
        } else {
            echo("Ikke godt");
            goto(kat_spm);
        }
    });
}

function slik_spm() {

    spm("Kan du lide slik?");
    
    input(function ( slik_spm ) {
  
        if (slik_spm === "Ja" || slik_spm ==="ja") {
            echo("Fantastisk");
        } else {
            echo("Er du nu sikker på det?");
        }
        slut();
    });
}

function kat_spm() {

    spm("har du en kat?");

    input(function ( kat_ja_nej ) {  
        echo("Godt for dig");
        slut();
    });
}

</script>
    <title>Spil</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Flygtninge flugt</h1>
      </div>
    </header>

    <div class="container">
        <div id="output"></div>
        <div id="ui">
          <label for="svar" id="spm"></label><input id="svar" type="text" />
          <a id="again" href="flygtninge.html">Spil igen?</a>
        </div>
    </div>

    
  </body>
</html>
